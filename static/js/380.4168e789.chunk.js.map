{"version":3,"file":"static/js/380.4168e789.chunk.js","mappings":"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","sources":["api/Pharmacy.api.js","helpers/storage.js","pages/ShopsPage/ShopsPage.jsx","pages/ShopsPage/ShopsPage.styled.js"],"sourcesContent":["import axios from 'axios';\nimport toast from 'react-hot-toast';\n\naxios.defaults.baseURL = 'https://nodejs-medicine-delivery.onrender.com';\n\nexport async function getAll() {\n  const { data } = await axios.get(`/api/drugstores`);\n  return data;\n}\n\nexport async function addOrder(body) {\n  try {\n    const { data } = await axios.post(`/users`, body);\n    toast.success('Your order has been accepted', {\n      duration: 3000,\n      position: 'top-center',\n    });\n    return data;\n  } catch (error) {\n    toast.error('Something went wrong', {\n      duration: 3000,\n      position: 'top-center',\n    });\n    throw error;\n  }\n}\n\n","const setStorageData = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst getStorageData = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport { setStorageData, getStorageData };\n","import React, { useEffect, useState } from 'react';\nimport {\n  ShopsCont,\n  LeftBlock,\n  RightBlock,\n  ShopList,\n  ShopItem,\n  CardContainer,\n  CardImage,\n  CardTitle,\n  AddButton,\n  CardList,\n  ShopHeader,\n} from './ShopsPage.styled';\nimport placeholder from '../../images/stock-illustration-drugs-and-pills.jpg';\nimport { getAll } from 'api/Pharmacy.api';\nimport Loader from 'components/Loader/Loader';\nimport { getStorageData, setStorageData } from 'helpers/storage';\nimport toast from 'react-hot-toast';\n\nconst baseURL = 'https://nodejs-medicine-delivery.onrender.com';\n\nconst ShopsPage = () => {\n  const [shops, setShops] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedShop, setSelectedShop] = useState(null);\n\n  useEffect(() => {\n    const fetchAll = async () => {\n      try {\n        setIsLoading(true);\n        setError('');\n        const data = await getAll();\n        setShops(data);\n        setSelectedShop(data[0]);\n      } catch ({ message }) {\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchAll();\n  }, []);\n\n  const handleShopSelect = shop => {\n    setSelectedShop(shop);\n  };\n\n  const handleAddToCart = medicine => {\n    const cartItems = getStorageData('cartItems') || [];\n\n    const isItemAlreadyAdded = cartItems.some(\n      item => item.name === medicine.name\n    );\n\n    if (isItemAlreadyAdded) {\n      toast.error('Already added', {\n        duration: 3000,\n        position: 'top-center',\n      });\n    } else {\n      toast.success('Successfully added to shopping cart', {\n        duration: 3000,\n        position: 'top-center',\n      });\n      const updatedCartItems = [...cartItems, medicine];\n      setStorageData('cartItems', updatedCartItems);\n    }\n  };\n\n  return (\n    <ShopsCont>\n      {error && <h1>{error}</h1>}\n      {isLoading && <Loader />}\n      <LeftBlock>\n        <ShopHeader>List of pharmacies</ShopHeader>\n        <ShopList>\n          {shops.map(shop => (\n            <ShopItem key={shop._id} onClick={() => handleShopSelect(shop)}>\n              {shop.pharmacy}\n            </ShopItem>\n          ))}\n        </ShopList>\n      </LeftBlock>\n      {selectedShop && (\n        <RightBlock>\n          <ShopHeader>Medicines in {selectedShop.pharmacy}</ShopHeader>\n          <CardList>\n            {selectedShop.medicines.map(medicine => (\n              <CardContainer key={medicine._id}>\n                <CardImage\n                  src={\n                    medicine.photo\n                      ? `${baseURL}/${medicine.photo}`\n                      : placeholder\n                  }\n                  alt={medicine.name}\n                />\n                <CardTitle>\n                  {medicine.name.charAt(0).toUpperCase() +\n                    medicine.name.slice(1)}\n                </CardTitle>\n                <AddButton onClick={() => handleAddToCart(medicine)}>\n                  Add to Cart\n                </AddButton>\n              </CardContainer>\n            ))}\n          </CardList>\n        </RightBlock>\n      )}\n    </ShopsCont>\n  );\n};\n\nexport default ShopsPage;\n","import styled from 'styled-components';\n\nexport const ShopsCont = styled.div`\n  margin-top: 60px;\n  display: flex;\n`;\n\nexport const LeftBlock = styled.div`\n  width: 25%;\n`;\n\nexport const RightBlock = styled.div`\n  height: calc(100vh - 60px);\n  width: 75%;\n  border-left: 3px solid var(--sky-blue-color);\n  background-color: var(--gray-color);\n`;\n\nexport const ShopHeader = styled.h2`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 30px;\n  margin-top: 30px;\n`;\n\nexport const ShopList = styled.ul`\n  list-style-type: none;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const ShopItem = styled.li`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 200px;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  color: var(--white-color);\n  border-radius: 12px;\n  padding: 12px 0;\n  background-color: var(--sky-blue-color);\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  border: none;\n  margin-bottom: 10px;\n  &:hover {\n    background-color: var(--blue-color);\n  }\n`;\n\nexport const CardList = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  overflow-y: auto;\n  height: calc(100% - 87.6px);\n`;\n\nexport const CardContainer = styled.div`\n  width: 400px;\n  height: 350px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  background-color: var(--white-color);\n  margin: 10px;\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 230px;\n  object-fit: cover;\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n`;\n\nexport const CardTitle = styled.h3`\n  font-size: 18px;\n  margin: 15px 0;\n  font-weight: 600;\n  font-size: 28px;\n`;\n\nexport const AddButton = styled.button`\n  margin-bottom: 15px;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  color: var(--white-color);\n  border-radius: 12px;\n  padding: 12px 50px;\n  background-color: var(--sky-blue-color);\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  border: none;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    background-color: var(--blue-color);\n  }\n`;\n"],"names":["getAll","_getAll","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","axios","sent","abrupt","stop","addOrder","_x","_addOrder","_callee2","body","_yield$axios$post","_context2","toast","duration","position","t0","setStorageData","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getStorageData","getItem","undefined","parse","_useState","useState","_useState2","_slicedToArray","shops","setShops","_useState3","_useState4","setError","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","selectedShop","setSelectedShop","useEffect","fetchAll","_ref","finish","_jsxs","ShopsCont","children","_jsx","Loader","LeftBlock","ShopHeader","ShopList","map","shop","ShopItem","onClick","handleShopSelect","pharmacy","_id","RightBlock","CardList","medicines","medicine","CardContainer","CardImage","src","photo","concat","placeholder","alt","name","CardTitle","charAt","toUpperCase","slice","AddButton","cartItems","some","item","updatedCartItems","_toConsumableArray","handleAddToCart","styled","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11"],"sourceRoot":""}